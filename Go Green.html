<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarbTrade - Save Money, Save the Planet</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- Global Reset & Font Import --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #12121f;
            color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* --- Main Container --- */
        .container {
            width: 100%;
            max-width: 800px;
            text-align: center;
        }

        /* --- Landing Page Form Card --- */
        .form-card {
            background-color: #1a1a2e;
            padding: 40px;
            border-radius: 15px;
            border: 1px solid #2a2a4a;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card-header h1 {
            font-weight: 600;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: -webkit-linear-gradient(#4CAF50, #81C784);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-header p {
            font-weight: 300;
            margin-bottom: 30px;
            color: #a0a0b0;
        }

        .myform {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            text-align: left;
        }

        .form-group label {
            display: block;
            font-weight: 400;
            margin-bottom: 8px;
            color: #c0c0d0;
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #33335a;
            background-color: #252538;
            color: #e0e0e0;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3);
        }

        .btn {
            padding: 15px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #ffffff;
            background: linear-gradient(90deg, #4CAF50, #2E7D32);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.3s;
            margin-top: 20px;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(46, 125, 50, 0.3);
        }

        /* --- Results Page Styling --- */
        .results-header {
            margin-bottom: 40px;
        }

        .results-header h1 {
            font-size: 2.2rem;
            margin-bottom: 5px;
        }

        .results-header p {
            color: #a0a0b0;
            font-size: 1.1rem;
        }

        .results-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        @media (min-width: 768px) {
            .results-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .card {
            background-color: #1a1a2e;
            padding: 25px;
            border-radius: 15px;
            border: 1px solid #2a2a4a;
            text-align: center;
        }

        .highlight-card {
            grid-column: 1 / -1;
            background: #252538;
        }

        .card h2 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #e0e0e0;
        }

        .card-subtitle {
            color: #a0a0b0;
            font-size: 0.9rem;
        }

        .big-number {
            font-size: 3.5rem;
            font-weight: 700;
            color: #4CAF50;
            line-height: 1.1;
        }

        .impact-number {
            font-size: 2rem;
            font-weight: 600;
        }

        .badge {
            display: inline-block;
            background-color: rgba(76, 175, 80, 0.2);
            color: #81C784;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin: 15px 0;
        }

        .small-text {
            font-size: 0.85rem;
            color: #888898;
            margin-top: 10px;
        }

        .comparison {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            margin-top: 20px;
        }

        .option {
            flex: 1;
        }

        .green-text { color: #4CAF50; }
        .red-text { color: #f44336; }

        .back-btn {
            margin-top: 40px;
            width: 250px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Section 1: Input Form (Visible by default) -->
        <div id="form-section">
            <div class="form-card">
                <div class="card-header">
                    <h1>Unlock Savings. Go Green.</h1>
                    <p>See how choosing an eco-friendly delivery for your order can save you money and reduce your carbon footprint.</p>
                </div>
                <form id="calculation-form" class="myform">
                    <div class="form-group">
                        <label for="price">Order Price (‚Çπ)</label>
                        <input type="number" id="price-input" name="PRICE" placeholder="e.g., 1500" required step="any">
                    </div>
                    <div class="form-group">
                        <label for="distance">Delivery Distance (km)</label>
                        <input type="number" id="distance-input" name="DISTANCE" placeholder="e.g., 500" required step="any">
                    </div>
                    <button type="submit" class="btn">Calculate My Savings</button>
                </form>
            </div>
        </div>

        <!-- Section 2: Results Display (Hidden by default) -->
        <div id="results-section" style="display: none;">
            <div class="results-header">
                <h1>Your Trade-off Analysis</h1>
                <p>Based on a <span id="result-price"></span> order over <span id="result-dist"></span> km.</p>
            </div>

            <div class="results-grid">
                <div class="card highlight-card">
                    <h2>Your Reward for Going Green! ü•≥</h2>
                    <p class="big-number">‚Çπ<span id="result-reward"></span></p>
                    <p class="card-subtitle">Direct savings on your order!</p>
                    <div class="badge"><span id="result-discount"></span>% DISCOUNT</div>
                    <p class="small-text">This is your reward for accepting a delivery that is <strong><span id="result-time"></span> hours</strong> longer.</p>
                </div>

                <div class="card">
                    <h2>Environmental Impact üåé</h2>
                    <div class="comparison">
                        <div class="option">
                            <h3>Standard (Plane) ‚úàÔ∏è</h3>
                            <p class="impact-number red-text"><span id="result-carb-plane"></span> kg</p>
                            <p class="card-subtitle">CO‚ÇÇ Emissions</p>
                            <p class="small-text">Offset Cost: ‚Çπ<span id="result-plane-price"></span></p>
                        </div>
                        <div class="option">
                            <h3>Eco-Friendly (Truck) üöö</h3>
                            <p class="impact-number green-text"><span id="result-carb-truck"></span> kg</p>
                            <p class="card-subtitle">CO‚ÇÇ Emissions</p>
                            <p class="small-text">Offset Cost: ‚Çπ<span id="result-truck-price"></span></p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Revenue from Carbon Savings üí∞</h2>
                    <div class="comparison">
                        <div class="option">
                            <h3>For CarbTrade</h3>
                            <p class="impact-number">‚Çπ<span id="result-carbtrade-revenue"></span></p>
                        </div>
                        <div class="option">
                            <h3>For Shipping Co.</h3>
                            <p class="impact-number">‚Çπ<span id="result-company-revenue"></span></p>
                        </div>
                    </div>
                </div>
            </div>

            <button id="calculate-again-btn" class="btn back-btn">Calculate Again</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get references to all the important elements on the page
            const formSection = document.getElementById('form-section');
            const resultsSection = document.getElementById('results-section');
            const calcForm = document.getElementById('calculation-form');
            const priceInput = document.getElementById('price-input');
            const distanceInput = document.getElementById('distance-input');
            const calculateAgainBtn = document.getElementById('calculate-again-btn');
            
            // Handle form submission
            calcForm.addEventListener('submit', (event) => {
                event.preventDefault(); // Stop the form from reloading the page

                // --- CALCULATION LOGIC (Moved from app.js) ---
                const price_order = parseFloat(priceInput.value);
                const dist = parseFloat(distanceInput.value);
                
                const Carbon_OffsetPrice_Plane = 1800;
                const Carbon_Offsetprice_Truck = 1800;
                const carbon_plane_rate = 31.1;
                const carbon_truck_rate = 0.76;
                const Truck_speed = 65.0;

                const totaltime_hours = Math.round(dist / Truck_speed);
                const total_days = totaltime_hours / 24;
                
                const carbon_truck = carbon_truck_rate * dist;
                const carbon_plane = carbon_plane_rate * dist;

                const Carbon_OffsetPrice_Plane_total = (carbon_plane * Carbon_OffsetPrice_Plane) / 1000;
                const Carbon_Offsetprice_Truck_total = (carbon_truck * Carbon_Offsetprice_Truck) / 1000;

                const revenue = Carbon_OffsetPrice_Plane_total - Carbon_Offsetprice_Truck_total;
                let revenue_customer;
                if (price_order < 1000) {
                    revenue_customer = price_order * 0.15;
                } else if (price_order >= 1000 && price_order < 2500) {
                    revenue_customer = price_order * 0.08;
                } else {
                    revenue_customer = price_order * 0.03;
                }
                const discount = (revenue_customer / price_order) * 100;
                const revenue_Carbtrade = (revenue - revenue_customer) * 0.05;
                const final_revenue = revenue - (revenue_customer + revenue_Carbtrade);

                // --- UPDATE THE RESULTS ON THE PAGE ---
                document.getElementById('result-price').textContent = `‚Çπ${price_order.toFixed(2)}`;
                document.getElementById('result-dist').textContent = dist;
                document.getElementById('result-reward').textContent = revenue_customer.toFixed(2);
                document.getElementById('result-discount').textContent = discount.toFixed(1);
                document.getElementById('result-time').textContent = totaltime_hours;
                document.getElementById('result-carb-plane').textContent = carbon_plane.toFixed(2);
                document.getElementById('result-plane-price').textContent = Carbon_OffsetPrice_Plane_total.toFixed(2);
                document.getElementById('result-carb-truck').textContent = carbon_truck.toFixed(2);
                document.getElementById('result-truck-price').textContent = Carbon_Offsetprice_Truck_total.toFixed(2);
                document.getElementById('result-carbtrade-revenue').textContent = revenue_Carbtrade.toFixed(2);
                document.getElementById('result-company-revenue').textContent = final_revenue.toFixed(2);

                // --- Show the results and hide the form ---
                formSection.style.display = 'none';
                resultsSection.style.display = 'block';
            });
            
            // Handle the "Calculate Again" button click
            calculateAgainBtn.addEventListener('click', () => {
                resultsSection.style.display = 'none';
                formSection.style.display = 'block';
                calcForm.reset(); // Clear the input fields
            });
        });
    </script>
</body>
</html>